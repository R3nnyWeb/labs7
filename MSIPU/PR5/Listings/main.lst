


ARM Macro Assembler    Page 1 


    1 00000000         ;PR_5
    2 00000000                 area             reset, data, readonly
    3 00000000                 area             stack, noinit, readwrite
    4 00000000                 space            0x400
    5 00000400         stack_top
    6 00000400                 area             program,code,readonly
    7 00000000 00000000        dcd              stack_top
    8 00000004 00000000        dcd              start
    9 00000008                 entry
   10 00000008         start
   11 00000008         ; bl pp1
   12 00000008         cykle                                ;bl pp5
   13 00000008         ;bl pp3
   14 00000008         ;b cykle
   15 00000008 F000 F836       bl               pp4
   16 0000000C         ;bl pp5
   17 0000000C E7FC            b                cykle
   18 0000000E 483D    pp1     ldr              r0, =0x4002001c ;–í—ã–±–∏—Ä–∞–µ
                                                            –º –±–∞–∑–æ–≤—ã–π –
                                                            ∞–¥—Ä–µ—Å MDR_RST_C
                                                            LK->PER_CLOCK(–¢–∞–
                                                            ∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                                                            )
   19 00000010 493D            ldr              r1, =0x0aa40010 ;RST_CLK, BKP, 
                                                            PORTE, PORTC, PORTA
                                                            , ADC
   20 00000012 6001            str              r1, [r0]
   21 00000014 483D            ldr              r0, =0x400a8000 ; –ë–∞–∑–æ–≤—ã–
                                                            π –∞–¥—Ä–µ—Å PORTA
   22 00000016 F04F 01FF       mov              r1, #0xff   ;–í—Å–µ 16 –±–∏—Ç
   23 0000001A 6041            str              r1, [r0,#0x04] ;OE (–í—ã—Ö–æ–¥)
                                                            
   24 0000001C 60C1            str              r1, [r0,#0x0c] 
                                                            ;ANALOG(–¶–∏—Ñ—Ä–∞)
                                                            
   25 0000001E F245 5155       movw             r1, #0x5555 ;1 —á–µ—Ä–µ–∑ 1 –¥–
                                                            ª—è –ø–∞—Ä–∞–º–µ—Ç—
                                                            Ä–æ–≤ —Å –±–æ–ª–µ–µ
                                                             —á–µ–º –¥–≤—É–º—è 
                                                            –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–
                                                            ∏
   26 00000022 6181            str              r1, [r0,#0x18] ;PD –º–µ–¥–ª–µ–Ω
                                                            –Ω—ã–π
   27 00000024 493A            ldr              r1, =0x400c8000 ;PORTE
   28 00000026 F04F 0201       mov              r2, #0x01   ;pin0
   29 0000002A 604A            str              r2, [r1, #0x04] 
                                                            ;oe –≤—ã—Ö–æ–¥ pin0
                                                            
   30 0000002C F04F 020A       mov              r2, #0x0a   ;
   31 00000030 60CA            str              r2, [r1, #0x0c] ;ANALOG pin1 an
                                                            d pin3 -digital
   32 00000032 F04F 0244       mov              r2, #0x44
   33 00000036 618A            str              r2, [r1, #0x18] ; pin1 and pin 
                                                            3 slow
   34 00000038 4A36            ldr              r2, =0x40090000 ;–¶–ê–ü
   35 0000003A F04F 0308       mov              r3, #0x08   ;
   36 0000003E 6013            str              r3, [r2]    ;–í–ö–õ–´–ß DAC2
   37 00000040 4770            bx               lr
   38 00000042         



ARM Macro Assembler    Page 2 


   39 00000042 F103 0301 
                       pp2     add              r3, #1
   40 00000046 F1A4 0401       sub              r4, #1
   41 0000004A 680D            ldr              r5, [r1]    ;–°—á–∏—Ç RXTX PORT
                                                            E
   42 0000004C F015 0602       ands             r6, r5, #0x02 ;—Å—á–∏—Ç—ã–≤–∞–Ω
                                                            –∏–µ –∫–Ω–æ–ø–∫–∏ p
                                                            in1
   43 00000050 BF07 6093       streq            r3, [r2,#0x08] ;–µ—Å–ª–∏ –Ω–µ –
                                                            Ω–∞–∂–∞—Ç–∞
   44 00000054 6003            streq            r3, [r0]    ;
   45 00000056 6094            strne            r4, [r2,#0x08] ;–µ—Å–ª–∏ –Ω–∞–∂
                                                            –∞—Ç–∞
   46 00000058 6004            strne            r4, [r0]
   47 0000005A 4770            bx               lr
   48 0000005C 4F2E    pp3     ldr              r7, =tab    ;0x0800007C ;–ê–¥—Ä
                                                            –µ—Å —Ç–∞–±–ª–∏—Ü—ã
                                                            
   49 0000005E F108 0802       add              r8, #0x02   ;–°–º–µ—â–µ–Ω–∏–µ –
                                                            ¥–ª—è –∫–∞–∂–¥–æ–≥–
                                                            æ –Ω–æ–≤–æ–≥–æ
   50 00000062 F008 081F       and              r8, #0x1f   ;–ß—Ç–æ–±—ã –Ω–µ —É
                                                            –π—Ç–∏ –∑–∞ –ø—Ä–µ–
                                                            ¥–µ–ª—ã —Ç–∞–±–ª–∏—
                                                            Ü—ã 32 –±–∞–π—Ç–∞
   51 00000066 EB07 0908       add              r9, r7, r8  ;–ê–¥—Ä–µ—Å —á—Ç–µ–
                                                            Ω–∏—è
   52 0000006A F8B9 A000       ldrh             r10, [r9]   ;–ß—Ç–µ–Ω–∏–µ
   53 0000006E F8C0 A000       str              r10, [r0]   ;port A rxtx
   54 00000072 F8C2 A008       str              r10, [r2,#0x08] 
                                                            ;DAC2 data –¶–ê–ü
   55 00000076 4770            bx               lr
   56 00000078         pp4
   57 00000078 4822            ldr              r0, =0x4002001c ;–í—ã–±–∏—Ä–∞–µ
                                                            –º –±–∞–∑–æ–≤—ã–π –
                                                            ∞–¥—Ä–µ—Å MDR_RST_C
                                                            LK->PER_CLOCK(–¢–∞–
                                                            ∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                                                            )
   58 0000007A 4928            ldr              r1, =0x200010 ;RST_CLK, PORTA
   59 0000007C 6001            str              r1, [r0]
   60 0000007E 4823            ldr              r0, =0x400a8000 ; –ë–∞–∑–æ–≤—ã–
                                                            π –∞–¥—Ä–µ—Å PORTA
   61 00000080 F04F 01FF       mov              r1, #0xff   ;–í—Å–µ 16 –±–∏—Ç
   62 00000084 6041            str              r1, [r0,#0x04] ;OE (–í—ã—Ö–æ–¥)
                                                            
   63 00000086 60C1            str              r1, [r0,#0x0c] 
                                                            ;ANALOG(–¶–∏—Ñ—Ä–∞)
                                                            
   64 00000088 F245 5155       movw             r1, #0x5555 ;1 —á–µ—Ä–µ–∑ 1 –¥–
                                                            ª—è –ø–∞—Ä–∞–º–µ—Ç—
                                                            Ä–æ–≤ —Å –±–æ–ª–µ–µ
                                                             —á–µ–º –¥–≤—É–º—è 
                                                            –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–
                                                            ∏
   65 0000008C 6181            str              r1, [r0,#0x18] ;PD –º–µ–¥–ª–µ–Ω
                                                            –Ω—ã–π
   66 0000008E F06F 0203       mov              r2, 0xfffffffc
   67 00000092 6002    m1      str              r2, [r0]    ;–ó–∞–ø–∏—Å—å –≤ –ê



ARM Macro Assembler    Page 3 


                                                            
   68 00000094 2B00            cmps             r3, #0      ;r3 - –Ω–∞–ø—Ä–∞–≤–
                                                            ª–µ–Ω–∏–µ
   69 00000096 BF0C 3201       addeq            r2, #1
   70 0000009A 3A01            subne            r2, #1
   71 0000009C 2A00            cmps             r2, #0
   72 0000009E BF08 F083 
              0301             eoreq            r3, 0x01    ;–ò–Ω–≤–µ—Ä—Ç–∞—Ü–∏
                                                            —è –Ω–∞–ø—Ä–∞–≤–ª–µ
                                                            –Ω–∏—è
   73 000000A4 E7F5            b                m1
   74 000000A6 4770            bx               lr
   75 000000A8 4F1D    pp5     ldr              r7, =tab2   ;0x0800007C ;–ê–¥—Ä
                                                            –µ—Å —Ç–∞–±–ª–∏—Ü—ã
                                                            
   76 000000AA F108 0802       add              r8, #0x02   ;–°–º–µ—â–µ–Ω–∏–µ –
                                                            ¥–ª—è –∫–∞–∂–¥–æ–≥–
                                                            æ –Ω–æ–≤–æ–≥–æ
   77 000000AE F008 081F       and              r8, #0x1f   ;–ß—Ç–æ–±—ã –Ω–µ —É
                                                            –π—Ç–∏ –∑–∞ –ø—Ä–µ–
                                                            ¥–µ–ª—ã —Ç–∞–±–ª–∏—
                                                            Ü—ã 32 –±–∞–π—Ç–∞
   78 000000B2 EB07 0908       add              r9, r7, r8  ;–ê–¥—Ä–µ—Å —á—Ç–µ–
                                                            Ω–∏—è
   79 000000B6 F8B9 A000       ldrh             r10, [r9]   ;–ß—Ç–µ–Ω–∏–µ
   80 000000BA F8C0 A000       str              r10, [r0]   ;port A rxtx
   81 000000BE F8C2 A008       str              r10, [r2,#0x08] 
                                                            ;DAC2 data –¶–ê–ü
   82 000000C2 4770            bx               lr          ;–ø–µ—Ä–∏–æ–¥ –∏ —Ç
                                                            –æ—á–∫–∏ —Ç–µ –∂–µ 
                                                            —Å–∞–º—ã–µ
   83 000000C4 E8 03 66 
              05 AC 06 
              84 07    tab     dcw              1000,1382,1708,1924
   84 000000CC D0 07 84 
              07 AC 06 
              66 05            dcw              2000,1924,1708,1382
   85 000000D4 E8 03 6A 
              02 24 01 
              4C 00            dcw              1000,618,292,76
   86 000000DC 00 00 4C 
              00 24 01 
              6A 02            dcw              0,76,292,618
   87 000000E4 E8 03 0E 
              04 7A 04 
              1C 05    tab2    dcw              1000,1038,1146,1308
   88 000000EC DC 05 9B 
              06 3D 07 
              A9 07            dcw              1500,1691,1853,1961
   89 000000F4 D0 07 A9 
              07 3D 07 
              9B 06            dcw              2000,1961,1853,1691
   90 000000FC DC 05 1C 
              05 7A 04 
              0E 04            dcw              1500,1308,1146,1038
   91 00000104                 end
              4002001C 
              0AA40010 
              400A8000 



ARM Macro Assembler    Page 4 


              400C8000 
              40090000 
              00000000 
              00200010 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\main.d -o.\objects\main.o -I.\RTE\_Target_1 -IC:\Keil_v5
\ARM\PACK\Keil\MDR1986BExx\1.4\Libraries\CMSIS\CM3\DeviceSupport\MDR32F9Qx\inc 
-IC:\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISI
ON_VERSION SETA 526" --predefine="USE_MDR32F9Q2_Rev1 SETA 1" --list=.\listings\
main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

reset 00000000

Symbol: reset
   Definitions
      At line 2 in file main.s
   Uses
      None
Comment: reset unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

stack 00000000

Symbol: stack
   Definitions
      At line 3 in file main.s
   Uses
      None
Comment: stack unused
stack_top 00000400

Symbol: stack_top
   Definitions
      At line 5 in file main.s
   Uses
      At line 7 in file main.s
Comment: stack_top used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

cykle 00000008

Symbol: cykle
   Definitions
      At line 12 in file main.s
   Uses
      At line 17 in file main.s
Comment: cykle used once
m1 00000092

Symbol: m1
   Definitions
      At line 67 in file main.s
   Uses
      At line 73 in file main.s
Comment: m1 used once
pp1 0000000E

Symbol: pp1
   Definitions
      At line 18 in file main.s
   Uses
      None
Comment: pp1 unused
pp2 00000042

Symbol: pp2
   Definitions
      At line 39 in file main.s
   Uses
      None
Comment: pp2 unused
pp3 0000005C

Symbol: pp3
   Definitions
      At line 48 in file main.s
   Uses
      None
Comment: pp3 unused
pp4 00000078

Symbol: pp4
   Definitions
      At line 56 in file main.s
   Uses
      At line 15 in file main.s
Comment: pp4 used once
pp5 000000A8

Symbol: pp5
   Definitions
      At line 75 in file main.s
   Uses
      None
Comment: pp5 unused
program 00000000

Symbol: program



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 6 in file main.s
   Uses
      None
Comment: program unused
start 00000008

Symbol: start
   Definitions
      At line 10 in file main.s
   Uses
      At line 8 in file main.s
Comment: start used once
tab 000000C4

Symbol: tab
   Definitions
      At line 83 in file main.s
   Uses
      At line 48 in file main.s
Comment: tab used once
tab2 000000E4

Symbol: tab2
   Definitions
      At line 87 in file main.s
   Uses
      At line 75 in file main.s
Comment: tab2 used once
11 symbols
349 symbols in table
